<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head></h:head>
    <h:body>
        <ui:composition template="template/layout.xhtml">
            <ui:define name="title">Home</ui:define>
            <ui:define name="content">
                <div class="content_wrap" id="content_wrap">
                    <ui:insert name="slider">
                        <ui:include src="template/slider.xhtml" />
                    </ui:insert>
                    <div class="routes" style="width: 99%;padding: .5%;">
                        <h2>Pick A Route</h2>
                        <hr/>
                        <div class="route_form">
                            <table class="tbl_form">
                                <tr>
                                    <th>Start Point:</th>
                                    <th>Destination:</th>
                                    <th>Travel Date:</th>
                                </tr>
                                <tr>
                                    <td>

                                        <select name="start_point" class="form-elements" id="start_point" onchange="change_destination();">
                                            <c:forEach var="start" items="#{mbPublicUser.allDestination}">
                                                <option value="#{start.id}">#{start.name}</option>
                                            </c:forEach>
                                        </select>
                                    </td>
                                    <td>
                                        <select name="end_point" class="form-elements" id="end_point">
                                            <!--<?php foreach (array_reverse($places) as $end) { ?>-->
                                            <!--<option value="<?php echo $end->id; ?>"><?php echo $end->destination; ?></option>-->
                                            <!--<?php } ?>-->
                                            <c:forEach var="end" items="#{mbPublicUser.allDestination}">
                                                <option value="#{end.id}">#{end.name}</option>
                                            </c:forEach>
                                        </select>
                                    </td>
                                    <td><input type="date" name="date" id='date' class="form-elements" /></td>
                                </tr>
                                <tr>
                                    <td colspan="3"><button id="search_bus" url="#{request.contextPath}/bus_result" class="btn_submit">Submit</button></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div class="routes" style="width: 99%;padding: .5%;display: none; " id="bus_info"></div>
                </div>
<!--                <h:form>
                    <h:inputHidden id="url_bus_result" value="#{request.contextPath}/bus_result" />
                    <h:commandButton value = "Show Message">
                        <f:ajax execute="url_bus_result" render="outputMessage" />
                    </h:commandButton>
                    <h2>
                        <h:outputText id="outputMessage" value="#{mbPublicUser.busResult != null ? mbPublicUser.busResult : ''}"/>
                    </h2>
                </h:form>-->
            </ui:define>
        </ui:composition>
    </h:body>
</html>